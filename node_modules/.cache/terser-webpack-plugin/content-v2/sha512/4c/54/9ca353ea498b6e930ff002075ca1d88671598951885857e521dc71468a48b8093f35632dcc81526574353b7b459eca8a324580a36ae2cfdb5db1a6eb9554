{"code":"!function(e){function n(n){for(var s,a,o=n[0],c=n[1],d=n[2],l=0,g=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&g.push(i[a][0]),i[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);for(p&&p(n);g.length;)g.shift()();return r.push.apply(r,d||[]),t()}function t(){for(var e,n=0;n<r.length;n++){for(var t=r[n],s=!0,o=1;o<t.length;o++){var c=t[o];0!==i[c]&&(s=!1)}s&&(r.splice(n--,1),e=a(a.s=t[0]))}return e}var s={},i={0:0},r=[];function a(n){if(s[n])return s[n].exports;var t=s[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=s,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&\"object\"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,\"default\",{enumerable:!0,value:e}),2&n&&\"string\"!=typeof e)for(var s in e)a.d(t,s,function(n){return e[n]}.bind(null,s));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,\"a\",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p=\"./bundles/\";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=n,o=o.slice();for(var d=0;d<o.length;d++)n(o[d]);var p=c;r.push([17,1,2]),t()}({12:function(e,n,t){\"use strict\";t.d(n,\"a\",(function(){return s}));class s{static call(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,{method:\"POST\",credentials:\"same-origin\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(n)}).then(e=>e.json())}}},17:function(e,n,t){\"use strict\";t.r(n);var s,i,r=t(0);t(13);function a(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}class o extends r.a{static get is(){return\"app-main-page\"}static get properties(){return{tooltip:{type:String,reflect:!0}}}static get styles(){return Object(r.b)(s||(s=a([\"\\n      :host {\\n        display: flex;\\n        flex-direction: column;\\n      }\\n      .section {\\n        display: grid;\\n        grid-template-columns: 1fr 1fr;\\n        padding: 20px auto;\\n        grid-gap: 20px;\\n      }\\n      .section-img {\\n        background-image: url(https://i.pinimg.com/originals/08/80/99/08809940d40530bfdb457d7a60466657.jpg);\\n        background-size: cover;\\n        min-height: 700px;\\n        width: 100%;\\n      }\\n      .section-img-h2 {\\n        text-align: center;\\n        margin-top: 85px;\\n        text-shadow: 3px 3px 20px;\\n        color: rgb(83, 116, 95);\\n        font-size: 30px;\\n      }\\n      .section-login {\\n        margin: 20px auto;\\n      }\\n      .section-login h2 {\\n        text-align: center;\\n        font-size: 32px;\\n      }\\n      .section-login h3 {\\n        margin-top: 55px;\\n        margin-bottom: 60px;\\n        text-shadow: 3px 3px 18px;\\n        text-align: center;\\n      }\\n      @media (max-width: 1024px) {\\n        .section {\\n          grid-template-columns: 1fr 1.3fr;\\n        }\\n      }\\n      @media (max-width: 600px) {\\n        .section {\\n          grid-template-columns: 1fr;\\n          grid-template-rows: 0.5fr 1fr;\\n        }\\n        .section-img {\\n          min-height: 300px;\\n        }\\n      }\\n    \"])))}render(){return Object(r.c)(i||(i=a(['\\n      <div class=\"section\">\\n        <div class=\"section-img\">\\n          <h2 class=\"section-img-h2\">\\n            Explore The <br />\\n            Caucasian Lifestyle\\n          </h2>\\n        </div>\\n        <div class=\"section-login\">\\n          <h2>\\n            Welcome to <br />\\n            CaucasusChat\\n          </h2>\\n          <h3>Sign in to continue</h3>\\n\\n          <app-signin-form tooltip=\"Sign in page\"></app-signin-form>\\n\\n          <h4>\\n            Don\\'t have an account?\\n            <a href=\"#signUp\" id=\"signupLink\">Sign up now</a>\\n          </h4>\\n        </div>\\n      </div>\\n    '])))}constructor(){super(),this.tooltip=\"Main - sign in page \"}}customElements.define(o.is,o);var c,d;t(14),t(15);function p(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}class l extends r.a{static get is(){return\"app-signup-page\"}static get properties(){return{tooltip:{type:String,reflect:!0}}}static get styles(){return Object(r.b)(c||(c=p([\"\\n      :host {\\n        display: flex;\\n        flex-direction: column;\\n      }\\n      .sign-up_section {\\n        background-color: snow;\\n        padding: 15px;\\n      }\\n      .users-info_section {\\n        margin: 40px 0;\\n        padding: 10px 0;\\n        background-color: snow;\\n        min-height: 300px;\\n      }\\n    \"])))}render(){return Object(r.c)(d||(d=p(['\\n      <div\\n        @app-edit-user=\"','\"\\n        @app-call-user-list=\"','\"\\n      >\\n        <section class=\"sign-up_section\">\\n          <app-registration-form id=\"form\"></app-registration-form>\\n        </section>\\n        <section class=\"users-info_section\">\\n          <app-user-list id=\"userList\"></app-user-list>\\n        </section>\\n      </div>\\n    '])),this.editUser,this.callUserList)}editUser(e){console.log(e);var n=e.detail;this.shadowRoot.getElementById(\"form\").setUserData(n)}callUserList(e){var n=e.detail;this.shadowRoot.getElementById(\"userList\").callUserList(n)}constructor(){super(),this.tooltip=\"Sign up page\"}}customElements.define(l.is,l);var g=t(12),h=(t(16),new WebSocket(\"ws://localhost:8088\"));h.addEventListener(\"open\",e=>{console.log(\"Client connected to server\")});var u,m,f,x,v,b,y,w,j=t(11);function O(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}class k extends r.a{static get is(){return\"app-chat-page\"}static get properties(){return{tooltip:{type:String,reflect:!0},receiverId:{type:String},receiverFirstName:{type:String},receiverLastName:{type:String},message:{type:String},senderId:{type:String},senderFirstName:{type:String},senderLastName:{type:String},messageArr:{type:Array},messageList:{type:String}}}static get styles(){return Object(r.b)(u||(u=O([\"\\n      :host {\\n        display: flex;\\n        flex-direction: column;\\n      }\\n      .chat-section {\\n        /* height: 75vh; */\\n        display: grid;\\n        grid-template-columns: 210px 1fr;\\n        grid-gap: 15px;\\n        padding: 10px;\\n        background-color: #f5f5f5;\\n      }\\n      .chat-list-block {\\n        height: 100%;\\n      }\\n      .chat-block {\\n        height: 100%;\\n        display: grid;\\n        grid-template-rows: 40px 62vh 60px;\\n      }\\n      .chat-header {\\n        display: flex;\\n        align-items: center;\\n        padding: 3px 10px;\\n        background-color: #89ccf6;\\n      }\\n      .chat {\\n        padding: 5px 10px;\\n        background-color: #baebff;\\n        position: relative;\\n      }\\n      .chat-scroll {\\n        height: 90%;\\n        overflow: auto;\\n      }\\n      .typing {\\n        height: 10%;\\n      }\\n      .messaging-bar {\\n        display: flex;\\n        align-items: center;\\n        justify-content: space-evenly;\\n        padding: 10px;\\n        background-color: #89ccf6;\\n      }\\n      .chat-input {\\n        width: 70%;\\n        height: 35px;\\n        border: none;\\n        border-radius: 8px;\\n        padding: 2px 10px;\\n      }\\n      .send-btn {\\n        padding: 5px 25px;\\n        text-align: center;\\n        font-size: 17px;\\n        border-radius: 15px;\\n        background-color: #c55df6;\\n        border: none;\\n      }\\n      .message-block {\\n        display: flex;\\n        margin: 15px;\\n        position: relative;\\n        padding: 4px;\\n        border-radius: 11px;\\n        list-style: none;\\n        padding-inline-start: 10px;\\n      }\\n      .message-title {\\n        display: inline-block;\\n        text-transform: capitalize;\\n        padding: 2px 10px;\\n        position: absolute;\\n        top: -10px;\\n        font-size: 14px;\\n        border-radius: 11px;\\n      }\\n      .message-div {\\n        display: block;\\n        padding: 5px 25px;\\n        border-radius: 8px;\\n        position: relative;\\n      }\\n      .reciver-msg {\\n        justify-content: flex-start;\\n      }\\n      .sender-msg {\\n        justify-content: flex-end;\\n      }\\n      .reciver-msg .message-title {\\n        background-color: #09ecb0;\\n        left: -20px;\\n      }\\n      .sender-msg .message-title {\\n        background-color: #c18cf9;\\n        right: -20px;\\n      }\\n      .reciver-msg .message-div {\\n        background-color: #43f5c6;\\n      }\\n      .sender-msg .message-div {\\n        background-color: #c09cfa;\\n        margin-right: 25px;\\n      }\\n      @media (max-width: 1024px) {\\n        .chat-section {\\n          grid-template-columns: 190px 1fr;\\n          grid-gap: 10px;\\n        }\\n        .send-btn {\\n          padding: 5px 18px;\\n          font-size: 17px;\\n        }\\n      }\\n      @media (max-width: 600px) {\\n        .chat-section {\\n          grid-template-columns: 1fr;\\n          grid-template-rows: 0.8fr 1fr;\\n          grid-gap: 10px;\\n        }\\n        .send-btn {\\n          padding: 4px 10px;\\n          font-size: 15px;\\n        }\\n      }\\n    \"])))}render(){return Object(r.c)(m||(m=O(['\\n      <div class=\"chat-section\" @start-chatting-user=\"','\">\\n        <div class=\"chat-list-block\">\\n          <chat-user-list></chat-user-list>\\n        </div>\\n        <div class=\"chat-block\">\\n          <div class=\"chat-header\">\\n            <span>To: ',\" \",'</span>\\n          </div>\\n          <div class=\"chat\">\\n            <ul class=\"chat-scroll\">\\n              ','\\n            </ul>\\n            <div class=\"typing\">','</div>\\n          </div>\\n          <div class=\"messaging-bar\">\\n            <input\\n              type=\"text\"\\n              class=\"chat-input\"\\n              placeholder=\"','\"\\n              ?disabled=','\\n              .value=\"','\"\\n              @input=\"','\"\\n            />\\n            <button\\n              class=\"btn send-btn\"\\n              @click=\"','\"\\n              ?disabled=',\"\\n            >\\n              ⇈ send\\n            </button>\\n          </div>\\n        </div>\\n      </div>\\n    \"])),this.callChat,this.receiverFirstName,this.receiverLastName,Object(j.a)(this.messageList),this.message?\"typing...\":\"\",this.receiverId?\"Click here to type something\":\"Please select a person whom you'd like to send message\",!this.receiverId,this.message,e=>this.message=e.target.value,this.sendMessage,!this.message)}filter(e){return\"62a87dc0eeb5f952443c24b9\"===this.receiverId?e.receiverId===this.receiverId:this.receiverId===e.senderId&&this.senderId===e.receiverId||this.senderId===e.senderId&&this.receiverId===e.receiverId}getMsg(){this.messageArr=[],g.a.call(\"/api/client/getMessages\").then(e=>{this.messageArr=e,this.showMessages()}).catch(e=>console.log(e))}showMessages(){this.messageList=this.messageArr.filter(e=>this.filter(e)).map(e=>'\\n        <li class=\"message-block '.concat(e.senderId===this.senderId?\"sender-msg\":\"reciver-msg\",'\">\\n          <div class=\"message-div\">\\n          <div class=\"message-title\">').concat(e.senderFirstName,\"</div>\\n          <span>\").concat(e.message,\"</span>\\n          </div>\\n        </li>\\n      \")).join(\"\")}sendMessage(){var e={senderId:this.senderId,senderFirstName:this.senderFirstName,senderLastName:this.senderLastName,receiverId:this.receiverId,receiverFirstName:this.receiverFirstName,receiverLastName:this.receiverLastName,message:this.message};this.saveMsg(e),h.send(JSON.stringify(e)),this.message=\"\"}callChat(e){this.setSenderInfo();var n=e.detail;this.receiverId=n._id,this.receiverFirstName=n.firstName,this.receiverLastName=n.lastName,this.getMsg()}setSenderInfo(){var e=JSON.parse(sessionStorage.getItem(\"user\"));this.senderId=e._id,this.senderFirstName=e.firstName,this.senderLastName=e.lastName}saveMsg(e){g.a.call(\"/api/client/saveMessage\",e).then(e=>{console.log(e)}).catch(e=>console.log(e))}connectedCallback(){super.connectedCallback(),h.addEventListener(\"message\",e=>{try{var n=JSON.parse(e.data);console.log(\"Message from server\",n),this.messageArr.push(n),this.showMessages()}catch(e){console.error(e.message)}})}constructor(){super(),this.tooltip=\"Chat page\",this.receiverId=\"\",this.receiverFirstName=\"\",this.receiverLastName=\"\",this.message=\"\",this.senderId=\"\",this.senderFirstName=\"\",this.senderLastName=\"\",this.messageArr=[],this.messageList=\"\"}}function S(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}customElements.define(k.is,k);class I extends r.a{static get is(){return\"app-root\"}static get properties(){return{page:{type:String}}}static get styles(){return Object(r.b)(f||(f=S([\"\\n      :host {\\n        display: flex;\\n        flex-direction: column;\\n      }\\n\\n      * {\\n        margin: 0;\\n        padding: 0;\\n        box-sizing: border-box;\\n      }\\n      .container {\\n        width: 1000px;\\n        margin: 0 auto;\\n        background-color: snow;\\n      }\\n      header {\\n        height: 100px;\\n      }\\n      .header-block {\\n        display: flex;\\n        flex-flow: row wrap;\\n        justify-content: space-between;\\n        align-items: center;\\n        padding: 3px 15px;\\n      }\\n      .logo {\\n        display: flex;\\n        flex-flow: row wrap;\\n        justify-content: space-between;\\n        align-items: center;\\n      }\\n      .logo-img {\\n        width: 80px;\\n        margin: 0 20px;\\n      }\\n      .nav-bar {\\n        margin: 10px 5px;\\n      }\\n      .nav-bar a {\\n        padding: 5px 15px;\\n        text-decoration: none;\\n        text-align: center;\\n        font-size: 17px;\\n        border-radius: 15px;\\n        background-color: #4eb4b6;\\n        color: snow;\\n        border: none;\\n      }\\n      .nav-bar a:hover {\\n        box-shadow: 0.5px 1px 5px black;\\n      }\\n\\n      @media (max-width: 1024px) {\\n        .container {\\n          width: 80vw;\\n        }\\n      }\\n      @media (max-width: 600px) {\\n        .container {\\n          display: flex;\\n          flex-flow: column;\\n          width: 100vw;\\n        }\\n        .header-block {\\n          justify-content: center;\\n        }\\n        .logo-img {\\n          width: 50px;\\n          margin: 0 5px;\\n        }\\n        .logo h1 {\\n          font-size: 21px;\\n        }\\n        .nav-bar a {\\n          padding: 2px 8px;\\n          font-size: 15px;\\n        }\\n      }\\n    \"])))}render(){return Object(r.c)(x||(x=S(['\\n      <header>\\n        <div class=\"container\">\\n          <div class=\"header-block\">\\n            <div class=\"logo\">\\n              <img\\n                src=\"./assets/logo-Caucasus-Winter-Bonanza-Richard-Tyler.jpg\"\\n                alt=\"logo\"\\n                class=\"logo-img\"\\n              />\\n              <h1>CaucasusChat</h1>\\n            </div>\\n            <div class=\"nav-bar\">\\n              <a href=\"#main\">Main</a> |\\n              ','\\n              <a href=\"#signUp\">Sign Up</a>\\n            </div>\\n          </div>\\n        </div>\\n      </header>\\n      <main>\\n        <div class=\"container\">\\n          ',\"\\n          \",\"\\n          \",\"\\n        </div>\\n      </main>\\n    \"])),this.checkLogedinUser()?Object(r.c)(v||(v=S(['<a href=\"#chat\">Chat</a> |\\n                    <a href=\"#main\" @click=\"','\">Sign out</a> |'])),this.signOut):\"\",\"main\"===this.page?Object(r.c)(b||(b=S([\"<app-main-page></app-main-page>\"]))):\"\",\"chat\"===this.page?Object(r.c)(y||(y=S([\"<app-chat-page></app-chat-page>\"]))):\"\",\"signUp\"===this.page?Object(r.c)(w||(w=S([\"<app-signup-page></app-signup-page>\"]))):\"\")}checkLogedinUser(){return null!==JSON.parse(sessionStorage.getItem(\"user\"))}signOut(){sessionStorage.removeItem(\"user\")}constructor(){super(),this.page=\"main\"}connectedCallback(){super.connectedCallback(),this.onRouteChange(),window.addEventListener(\"popstate\",()=>this.onRouteChange())}onRouteChange(){window.location.hash&&(this.page=window.location.hash.substring(1))}}customElements.define(I.is,I);var N;N=document.createElement(\"app-root\"),document.body.appendChild(N)},219:function(e,n){},221:function(e,n){},231:function(e,n){},233:function(e,n){},259:function(e,n){},261:function(e,n){},262:function(e,n){},267:function(e,n){},269:function(e,n){},275:function(e,n){},277:function(e,n){},296:function(e,n){},308:function(e,n){},311:function(e,n){}});","extractedComments":[]}